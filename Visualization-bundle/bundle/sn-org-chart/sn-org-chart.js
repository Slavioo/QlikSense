/*
* @nebula.js/sn-org-chart v0.15.0
* Copyright (c) 2021 QlikTech International AB
* Released under the MIT license.
*/

!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("@nebula.js/stardust")):"function"==typeof define&&define.amd?define(["@nebula.js/stardust"],n):(t="undefined"!=typeof globalThis?globalThis:t||self)["sn-org-chart"]=n(t.stardust)}(this,(function(t){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(t,n,e,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void e(t)}s.done?n(u):Promise.resolve(u).then(r,o)}function r(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=t.apply(n,r);function s(t){e(a,o,i,s,u,"next",t)}function u(t){e(a,o,i,s,u,"throw",t)}s(void 0)}))}}function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function i(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function a(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?i(Object(e),!0).forEach((function(n){o(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function s(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return e}(t,n)||c(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,n){if(t){if("string"==typeof t)return l(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,n):void 0}}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var h={qHyperCubeDef:{qDimensions:[],qMeasures:[],qInitialDataFetch:[{qWidth:5,qHeight:500}],qSuppressZero:!1,qSuppressMissing:!0},showTitles:!0,title:"",subtitle:"",footnote:"",navigationMode:"free",resizeOnExpand:!1,style:{fontColor:{colorType:"auto",color:{index:-1,color:"#484848"},colorExpression:""},backgroundColor:{colorType:"colorPicker",color:{index:-1,color:"#ffffff"},colorExpression:""},border:{top:!0,fullBorder:!0,colorType:"auto",color:{index:-1,color:"#737373"},colorExpression:""}}},f={targets:[{path:"/qHyperCubeDef",dimensions:{min:2,max:2},measures:{min:0,max:1}}]};var d={getValue:function(t,n,e){var r,o=n.split(".");if(void 0===t)return e;var i=t;for(r=0;r<o.length;++r){if(void 0===i[o[r]])return e;i=i[o[r]]}return i}},p=[{value:"auto",translation:"Common.Auto"},{value:"colorPicker",translation:"properties.colorMode.primary"},{value:"byExpression",translation:"properties.colorMode.byExpression"}],g=function(t){return d.getValue(t,"style.border.top")||d.getValue(t,"style.border.fullBorder")},m={definition:{type:"items",component:"accordion",items:{data:{uses:"data",items:{measures:{disabledRef:""},dimensions:{disabledRef:"",items:{dimensionLimits:{show:!1},attributes:{component:"attribute-expression-reference",defaultValue:[],show:function(t,n){return n.getDimensions()[0]===t},ref:"qAttributeExpressions",items:[{component:"expression",ref:"qExpression",translation:"Object.OrgChart.LabelExpression",defaultValue:"",id:"labelExpression",tid:"labelExpression"},{component:"expression",ref:"qExpression",translation:"Object.OrgChart.SubLabelExpression",defaultValue:"",id:"subLabelExpression",tid:"subLabelExpression"},{component:"expression",ref:"qExpression",translation:"Object.OrgChart.ExtraLabelExpression",defaultValue:"",id:"extraLabelExpression",tid:"extraLabelExpression"},{component:"expression",ref:"qExpression",translation:"Object.OrgChart.ColorLabelExpression",defaultValue:"",id:"colorByExpression",tid:"nodeColorByExpression"}]},desc:{show:function(t,n){return n.getDimensions()[0]===t},component:"text",translation:"Object.OrgChart.ExtraLabelDesc",style:"hint"}}}}},sorting:{uses:"sorting"},addOns:{type:"items",component:"expandable-items",translation:"properties.addons",items:{dataHandling:{uses:"dataHandling",items:{calcCond:{uses:"calcCond"},rowLimit:{type:"integer",translation:"$RowLimit",ref:"rowLimit",defaultValue:3e4,min:5e3,max:1e5,show:!1}}}}},settings:{uses:"settings",items:{styling:{grouped:!0,translation:"properties.presentation",type:"items",items:{navigation:{type:"items",items:{navigationMode:{ref:"navigationMode",type:"string",translation:"Object.OrgChart.NavigationMode",component:"dropdown",options:[{value:"free",translation:"Object.OrgChart.FreeMode"},{value:"expandAll",translation:"Object.OrgChart.ExpandAll"}]},resizeOnExpand:{ref:"resizeOnExpand",type:"boolean",translation:"Object.OrgChart.resizeOnExpand",show:function(t){return"expandAll"!==d.getValue(t,"navigationMode")}}}},backgroundColor:{type:"items",items:{useColorExpression:{ref:"style.backgroundColor.colorType",type:"string",translation:"Object.OrgChart.BackgroundColor",component:"dropdown",options:p},colorPicker:{component:"color-picker",type:"object",ref:"style.backgroundColor.color",translation:"properties.color",dualOutput:!0,show:function(t){return"colorPicker"===d.getValue(t,"style.backgroundColor.colorType")}},colorExpression:{component:"string",type:"string",ref:"style.backgroundColor.colorExpression",translation:"Common.Expression",expression:"optional",show:function(t){return"byExpression"===d.getValue(t,"style.backgroundColor.colorType")}}}},fontColor:{type:"items",items:{useColorExpression:{ref:"style.fontColor.colorType",type:"string",translation:"Object.OrgChart.FontColor",component:"dropdown",options:p},colorPicker:{component:"color-picker",type:"object",ref:"style.fontColor.color",translation:"properties.color",dualOutput:!0,show:function(t){return"colorPicker"===d.getValue(t,"style.fontColor.colorType")}},colorExpression:{component:"string",type:"string",ref:"style.fontColor.colorExpression",translation:"Common.Expression",expression:"optional",show:function(t){return"byExpression"===d.getValue(t,"style.fontColor.colorType")}}}},border:{type:"items",items:{appearanceHeader:{component:"text",translation:"Object.OrgChart.CardAppearance",style:"pp-nm-hcd__list-header"},topBar:{type:"boolean",ref:"style.border.top",translation:"Object.OrgChart.TopBar",defaultValue:!0},fullBorder:{type:"boolean",ref:"style.border.fullBorder",translation:"properties.border",defaultValue:!1},colorType:{component:"dropdown",type:"string",ref:"style.border.colorType",translation:"properties.border.color",defaultValue:"auto",options:p,show:function(t){return g(t)}},colorPicker:{component:"color-picker",type:"object",ref:"style.border.color",translation:"properties.color",dualOutput:!0,show:function(t){return g(t)&&"colorPicker"===d.getValue(t,"style.border.colorType")}},colorExpression:{component:"string",type:"string",ref:"style.border.colorExpression",translation:"Common.Expression",expression:"optional",show:function(t){return g(t)&&"byExpression"===d.getValue(t,"style.border.colorType")}}}}}}}}}},support:{export:!0,exportData:!0,snapshot:!0,viewData:!0}};function v(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}1===(y=v).length&&(b=y,y=function(t,n){return v(b(t),n)});var y,b,x={value:function(){}};function w(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new _(r)}function _(t){this._=t}function C(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function k(t,n){for(var e,r=0,o=t.length;r<o;++r)if((e=t[r]).name===n)return e.value}function E(t,n,e){for(var r=0,o=t.length;r<o;++r)if(t[r].name===n){t[r]=x,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}_.prototype=w.prototype={constructor:_,on:function(t,n){var e,r=this._,o=C(t+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++i<a;)if(e=(t=o[i]).type)r[e]=E(r[e],t.name,n);else if(null==n)for(e in r)r[e]=E(r[e],t.name,null);return this}for(;++i<a;)if((e=(t=o[i]).type)&&(e=k(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new _(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,o=new Array(e),i=0;i<e;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,e=(r=this._[t]).length;i<e;++i)r[i].value.apply(n,o)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(n,e)}};var M="http://www.w3.org/1999/xhtml",L={svg:"http://www.w3.org/2000/svg",xhtml:M,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function O(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),L.hasOwnProperty(n)?{space:L[n],local:t}:t}function S(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===M&&n.documentElement.namespaceURI===M?n.createElement(t):n.createElementNS(e,t)}}function A(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function z(t){var n=O(t);return(n.local?A:S)(n)}function q(){}function T(t){return null==t?q:function(){return this.querySelector(t)}}function N(){return[]}function j(t){return null==t?N:function(){return this.querySelectorAll(t)}}function D(t){return function(){return this.matches(t)}}function P(t){return new Array(t.length)}function I(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}I.prototype={constructor:I,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function H(t,n,e,r,o,i){for(var a,s=0,u=n.length,c=i.length;s<c;++s)(a=n[s])?(a.__data__=i[s],r[s]=a):e[s]=new I(t,i[s]);for(;s<u;++s)(a=n[s])&&(o[s]=a)}function B(t,n,e,r,o,i,a){var s,u,c,l={},h=n.length,f=i.length,d=new Array(h);for(s=0;s<h;++s)(u=n[s])&&(d[s]=c="$"+a.call(u,u.__data__,s,n),c in l?o[s]=u:l[c]=u);for(s=0;s<f;++s)(u=l[c="$"+a.call(t,i[s],s,i)])?(r[s]=u,u.__data__=i[s],l[c]=null):e[s]=new I(t,i[s]);for(s=0;s<h;++s)(u=n[s])&&l[d[s]]===u&&(o[s]=u)}function V(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function R(t){return function(){this.removeAttribute(t)}}function Z(t){return function(){this.removeAttributeNS(t.space,t.local)}}function X(t,n){return function(){this.setAttribute(t,n)}}function W(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Y(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function $(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function U(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function F(t){return function(){this.style.removeProperty(t)}}function G(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Q(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function K(t,n){return t.style.getPropertyValue(n)||U(t).getComputedStyle(t,null).getPropertyValue(n)}function J(t){return function(){delete this[t]}}function tt(t,n){return function(){this[t]=n}}function nt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function et(t){return t.trim().split(/^|\s+/)}function rt(t){return t.classList||new ot(t)}function ot(t){this._node=t,this._names=et(t.getAttribute("class")||"")}function it(t,n){for(var e=rt(t),r=-1,o=n.length;++r<o;)e.add(n[r])}function at(t,n){for(var e=rt(t),r=-1,o=n.length;++r<o;)e.remove(n[r])}function st(t){return function(){it(this,t)}}function ut(t){return function(){at(this,t)}}function ct(t,n){return function(){(n.apply(this,arguments)?it:at)(this,t)}}function lt(){this.textContent=""}function ht(t){return function(){this.textContent=t}}function ft(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function dt(){this.innerHTML=""}function pt(t){return function(){this.innerHTML=t}}function gt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function mt(){this.nextSibling&&this.parentNode.appendChild(this)}function vt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yt(){return null}function bt(){var t=this.parentNode;t&&t.removeChild(this)}function xt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function wt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}ot.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var _t={},Ct=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(_t={mouseenter:"mouseover",mouseleave:"mouseout"}));function kt(t,n,e){return t=Et(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Et(t,n,e){return function(r){var o=Ct;Ct=r;try{t.call(this,this.__data__,n,e)}finally{Ct=o}}}function Mt(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Lt(t){return function(){var n=this.__on;if(n){for(var e,r=0,o=-1,i=n.length;r<i;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++o]=e:this.removeEventListener(e.type,e.listener,e.capture);++o?n.length=o:delete this.__on}}}function Ot(t,n,e){var r=_t.hasOwnProperty(t.type)?kt:Et;return function(o,i,a){var s,u=this.__on,c=r(n,i,a);if(u)for(var l=0,h=u.length;l<h;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=e),void(s.value=n);this.addEventListener(t.type,c,e),s={type:t.type,name:t.name,value:n,listener:c,capture:e},u?u.push(s):this.__on=[s]}}function St(t,n,e){var r=U(t),o=r.CustomEvent;"function"==typeof o?o=new o(n,e):(o=r.document.createEvent("Event"),e?(o.initEvent(n,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(n,!1,!1)),t.dispatchEvent(o)}function At(t,n){return function(){return St(this,t,n)}}function zt(t,n){return function(){return St(this,t,n.apply(this,arguments))}}var qt=[null];function Tt(t,n){this._groups=t,this._parents=n}function Nt(){return new Tt([[document.documentElement]],qt)}function jt(t){return"string"==typeof t?new Tt([[document.querySelector(t)]],[document.documentElement]):new Tt([[t]],qt)}function Dt(){for(var t,n=Ct;t=n.sourceEvent;)n=t;return n}function Pt(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var o=t.getBoundingClientRect();return[n.clientX-o.left-t.clientLeft,n.clientY-o.top-t.clientTop]}function It(t){var n=Dt();return n.changedTouches&&(n=n.changedTouches[0]),Pt(t,n)}function Ht(t,n,e){arguments.length<3&&(e=n,n=Dt().changedTouches);for(var r,o=0,i=n?n.length:0;o<i;++o)if((r=n[o]).identifier===e)return Pt(t,r);return null}function Bt(){Ct.preventDefault(),Ct.stopImmediatePropagation()}function Vt(t){var n=t.document.documentElement,e=jt(t).on("dragstart.drag",Bt,!0);"onselectstart"in n?e.on("selectstart.drag",Bt,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Rt(t,n){var e=t.document.documentElement,r=jt(t).on("dragstart.drag",null);n&&(r.on("click.drag",Bt,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Zt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Xt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Wt(){}Tt.prototype=Nt.prototype={constructor:Tt,select:function(t){"function"!=typeof t&&(t=T(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var i,a,s=n[o],u=s.length,c=r[o]=new Array(u),l=0;l<u;++l)(i=s[l])&&(a=t.call(i,i.__data__,l,s))&&("__data__"in i&&(a.__data__=i.__data__),c[l]=a);return new Tt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=j(t));for(var n=this._groups,e=n.length,r=[],o=[],i=0;i<e;++i)for(var a,s=n[i],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),o.push(a));return new Tt(r,o)},filter:function(t){"function"!=typeof t&&(t=D(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var i,a=n[o],s=a.length,u=r[o]=[],c=0;c<s;++c)(i=a[c])&&t.call(i,i.__data__,c,a)&&u.push(i);return new Tt(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),l=-1,this.each((function(t){p[++l]=t})),p;var e,r=n?B:H,o=this._parents,i=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=i.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var h=o[l],f=i[l],d=f.length,p=t.call(h,h&&h.__data__,l,o),g=p.length,m=u[l]=new Array(g),v=s[l]=new Array(g);r(h,f,m,v,c[l]=new Array(d),p,n);for(var y,b,x=0,w=0;x<g;++x)if(y=m[x]){for(x>=w&&(w=x+1);!(b=v[w])&&++w<g;);y._next=b||null}}return(s=new Tt(s,o))._enter=u,s._exit=c,s},enter:function(){return new Tt(this._enter||this._groups.map(P),this._parents)},exit:function(){return new Tt(this._exit||this._groups.map(P),this._parents)},join:function(t,n,e){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(o=n(o)),null==e?i.remove():e(i),r&&o?r.merge(o).order():o},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,o=e.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var u,c=n[s],l=e[s],h=c.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=c[d]||l[d])&&(f[d]=u);for(;s<r;++s)a[s]=n[s];return new Tt(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,o=t[n],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=V);for(var e=this._groups,r=e.length,o=new Array(r),i=0;i<r;++i){for(var a,s=e[i],u=s.length,c=o[i]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(n)}return new Tt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var o,i=n[e],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,n){var e=O(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Z:R:"function"==typeof n?e.local?$:Y:e.local?W:X)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?F:"function"==typeof n?Q:G)(t,n,null==e?"":e)):K(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?J:"function"==typeof n?nt:tt)(t,n)):this.node()[t]},classed:function(t,n){var e=et(t+"");if(arguments.length<2){for(var r=rt(this.node()),o=-1,i=e.length;++o<i;)if(!r.contains(e[o]))return!1;return!0}return this.each(("function"==typeof n?ct:n?st:ut)(e,n))},text:function(t){return arguments.length?this.each(null==t?lt:("function"==typeof t?ft:ht)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?dt:("function"==typeof t?gt:pt)(t)):this.node().innerHTML},raise:function(){return this.each(mt)},lower:function(){return this.each(vt)},append:function(t){var n="function"==typeof t?t:z(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:z(t),r=null==n?yt:"function"==typeof n?n:T(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(bt)},clone:function(t){return this.select(t?wt:xt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,o,i=Mt(t+""),a=i.length;if(!(arguments.length<2)){for(s=n?Ot:Lt,null==e&&(e=!1),r=0;r<a;++r)this.each(s(i[r],n,e));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function(t,n){return this.each(("function"==typeof n?zt:At)(t,n))}};var Yt=.7,$t=1/Yt,Ut="\\s*([+-]?\\d+)\\s*",Ft="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qt=/^#([0-9a-f]{3,8})$/,Kt=new RegExp("^rgb\\("+[Ut,Ut,Ut]+"\\)$"),Jt=new RegExp("^rgb\\("+[Gt,Gt,Gt]+"\\)$"),tn=new RegExp("^rgba\\("+[Ut,Ut,Ut,Ft]+"\\)$"),nn=new RegExp("^rgba\\("+[Gt,Gt,Gt,Ft]+"\\)$"),en=new RegExp("^hsl\\("+[Ft,Gt,Gt]+"\\)$"),rn=new RegExp("^hsla\\("+[Ft,Gt,Gt,Ft]+"\\)$"),on={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function an(){return this.rgb().formatHex()}function sn(){return this.rgb().formatRgb()}function un(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Qt.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?cn(n):3===e?new dn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?ln(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?ln(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Kt.exec(t))?new dn(n[1],n[2],n[3],1):(n=Jt.exec(t))?new dn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=tn.exec(t))?ln(n[1],n[2],n[3],n[4]):(n=nn.exec(t))?ln(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=en.exec(t))?vn(n[1],n[2]/100,n[3]/100,1):(n=rn.exec(t))?vn(n[1],n[2]/100,n[3]/100,n[4]):on.hasOwnProperty(t)?cn(on[t]):"transparent"===t?new dn(NaN,NaN,NaN,0):null}function cn(t){return new dn(t>>16&255,t>>8&255,255&t,1)}function ln(t,n,e,r){return r<=0&&(t=n=e=NaN),new dn(t,n,e,r)}function hn(t){return t instanceof Wt||(t=un(t)),t?new dn((t=t.rgb()).r,t.g,t.b,t.opacity):new dn}function fn(t,n,e,r){return 1===arguments.length?hn(t):new dn(t,n,e,null==r?1:r)}function dn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function pn(){return"#"+mn(this.r)+mn(this.g)+mn(this.b)}function gn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function mn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function vn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new bn(t,n,e,r)}function yn(t){if(t instanceof bn)return new bn(t.h,t.s,t.l,t.opacity);if(t instanceof Wt||(t=un(t)),!t)return new bn;if(t instanceof bn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,o=Math.min(n,e,r),i=Math.max(n,e,r),a=NaN,s=i-o,u=(i+o)/2;return s?(a=n===i?(e-r)/s+6*(e<r):e===i?(r-n)/s+2:(n-e)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new bn(a,s,u,t.opacity)}function bn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function xn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function wn(t){return function(){return t}}function _n(t){return 1==(t=+t)?Cn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):wn(isNaN(n)?e:n)}}function Cn(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):wn(isNaN(t)?n:t)}Zt(Wt,un,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:an,formatHex:an,formatHsl:function(){return yn(this).formatHsl()},formatRgb:sn,toString:sn}),Zt(dn,fn,Xt(Wt,{brighter:function(t){return t=null==t?$t:Math.pow($t,t),new dn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Yt:Math.pow(Yt,t),new dn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pn,formatHex:pn,formatRgb:gn,toString:gn})),Zt(bn,(function(t,n,e,r){return 1===arguments.length?yn(t):new bn(t,n,e,null==r?1:r)}),Xt(Wt,{brighter:function(t){return t=null==t?$t:Math.pow($t,t),new bn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Yt:Math.pow(Yt,t),new bn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,o=2*e-r;return new dn(xn(t>=240?t-240:t+120,o,r),xn(t,o,r),xn(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var kn=function t(n){var e=_n(n);function r(t,n){var r=e((t=fn(t)).r,(n=fn(n)).r),o=e(t.g,n.g),i=e(t.b,n.b),a=Cn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=o(n),t.b=i(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function En(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var Mn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ln=new RegExp(Mn.source,"g");function On(t,n){var e,r,o,i=Mn.lastIndex=Ln.lastIndex=0,a=-1,s=[],u=[];for(t+="",n+="";(e=Mn.exec(t))&&(r=Ln.exec(n));)(o=r.index)>i&&(o=n.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(e=e[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:En(e,r)})),i=Ln.lastIndex;return i<n.length&&(o=n.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function(t){return function(n){return t(n)+""}}(u[0].x):function(t){return function(){return t}}(n):(n=u.length,function(t){for(var e,r=0;r<n;++r)s[(e=u[r]).i]=e.x(t);return s.join("")})}var Sn,An,zn,qn,Tn=180/Math.PI,Nn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jn(t,n,e,r,o,i){var a,s,u;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,u/=s),t*r<n*e&&(t=-t,n=-n,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(n,t)*Tn,skewX:Math.atan(u)*Tn,scaleX:a,scaleY:s}}function Dn(t,n,e,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var s=[],u=[];return i=t(i),a=t(a),function(t,r,o,i,a,s){if(t!==o||r!==i){var u=a.push("translate(",null,n,null,e);s.push({i:u-4,x:En(t,o)},{i:u-2,x:En(r,i)})}else(o||i)&&a.push("translate("+o+n+i+e)}(i.translateX,i.translateY,a.translateX,a.translateY,s,u),function(t,n,e,i){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),i.push({i:e.push(o(e)+"rotate(",null,r)-2,x:En(t,n)})):n&&e.push(o(e)+"rotate("+n+r)}(i.rotate,a.rotate,s,u),function(t,n,e,i){t!==n?i.push({i:e.push(o(e)+"skewX(",null,r)-2,x:En(t,n)}):n&&e.push(o(e)+"skewX("+n+r)}(i.skewX,a.skewX,s,u),function(t,n,e,r,i,a){if(t!==e||n!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:En(t,e)},{i:s-2,x:En(n,r)})}else 1===e&&1===r||i.push(o(i)+"scale("+e+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,u),i=a=null,function(t){for(var n,e=-1,r=u.length;++e<r;)s[(n=u[e]).i]=n.x(t);return s.join("")}}}var Pn=Dn((function(t){return"none"===t?Nn:(Sn||(Sn=document.createElement("DIV"),An=document.documentElement,zn=document.defaultView),Sn.style.transform=t,t=zn.getComputedStyle(An.appendChild(Sn),null).getPropertyValue("transform"),An.removeChild(Sn),jn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),In=Dn((function(t){return null==t?Nn:(qn||(qn=document.createElementNS("http://www.w3.org/2000/svg","g")),qn.setAttribute("transform",t),(t=qn.transform.baseVal.consolidate())?jn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Nn)}),", ",")",")"),Hn=Math.SQRT2;function Bn(t){return((t=Math.exp(t))+1/t)/2}function Vn(t,n){var e,r,o=t[0],i=t[1],a=t[2],s=n[0],u=n[1],c=n[2],l=s-o,h=u-i,f=l*l+h*h;if(f<1e-12)r=Math.log(c/a)/Hn,e=function(t){return[o+t*l,i+t*h,a*Math.exp(Hn*t*r)]};else{var d=Math.sqrt(f),p=(c*c-a*a+4*f)/(2*a*2*d),g=(c*c-a*a-4*f)/(2*c*2*d),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/Hn,e=function(t){var n,e=t*r,s=Bn(m),u=a/(2*d)*(s*(n=Hn*e+m,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[o+u*l,i+u*h,a*s/Bn(Hn*e+m)]}}return e.duration=1e3*r,e}var Rn,Zn,Xn=0,Wn=0,Yn=0,$n=0,Un=0,Fn=0,Gn="object"===("undefined"==typeof performance?"undefined":n(performance))&&performance.now?performance:Date,Qn="object"===("undefined"==typeof window?"undefined":n(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Kn(){return Un||(Qn(Jn),Un=Gn.now()+Fn)}function Jn(){Un=0}function te(){this._call=this._time=this._next=null}function ne(t,n,e){var r=new te;return r.restart(t,n,e),r}function ee(){Un=($n=Gn.now())+Fn,Xn=Wn=0;try{!function(){Kn(),++Xn;for(var t,n=Rn;n;)(t=Un-n._time)>=0&&n._call.call(null,t),n=n._next;--Xn}()}finally{Xn=0,function(){var t,n,e=Rn,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Rn=n);Zn=t,oe(r)}(),Un=0}}function re(){var t=Gn.now(),n=t-$n;n>1e3&&(Fn-=n,$n=t)}function oe(t){Xn||(Wn&&(Wn=clearTimeout(Wn)),t-Un>24?(t<1/0&&(Wn=setTimeout(ee,t-Gn.now()-Fn)),Yn&&(Yn=clearInterval(Yn))):(Yn||($n=Gn.now(),Yn=setInterval(re,1e3)),Xn=1,Qn(ee)))}function ie(t,n,e){var r=new te;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r}te.prototype=ne.prototype={constructor:te,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Kn():+e)+(null==n?0:+n),this._next||Zn===this||(Zn?Zn._next=this:Rn=this,Zn=this),this._call=t,this._time=e,oe()},stop:function(){this._call&&(this._call=null,this._time=1/0,oe())}};var ae=w("start","end","cancel","interrupt"),se=[];function ue(t,n,e,r,o,i){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,o=t.__transition;function i(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(i){var c,l,h,f;if(1!==e.state)return u();for(c in o)if((f=o[c]).name===e.name){if(3===f.state)return ie(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete o[c]):+c<n&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete o[c])}if(ie((function(){3===e.state&&(e.state=4,e.timer.restart(s,e.delay,e.time),s(i))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(h=e.tween.length),c=0,l=-1;c<h;++c)(f=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=f);r.length=l+1}}function s(n){for(var o=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(t,o);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=6,e.timer.stop(),delete o[n],o)return;delete t.__transition}o[n]=e,e.timer=ne(i,0,e.time)}(t,e,{name:n,index:r,group:o,on:ae,tween:se,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function ce(t,n){var e=he(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function le(t,n){var e=he(t,n);if(e.state>3)throw new Error("too late; already running");return e}function he(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function fe(t,n){var e,r,o,i=t.__transition,a=!0;if(i){for(o in n=null==n?null:n+"",i)(e=i[o]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete i[o]):a=!1;a&&delete t.__transition}}function de(t,n){var e,r;return function(){var o=le(this,t),i=o.tween;if(i!==e)for(var a=0,s=(r=e=i).length;a<s;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}o.tween=r}}function pe(t,n,e){var r,o;if("function"!=typeof e)throw new Error;return function(){var i=le(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:n,value:e},u=0,c=o.length;u<c;++u)if(o[u].name===n){o[u]=s;break}u===c&&o.push(s)}i.tween=o}}function ge(t,n,e){var r=t._id;return t.each((function(){var t=le(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return he(t,r).value[n]}}function me(t,n){var e;return("number"==typeof n?En:n instanceof un?kn:(e=un(n))?(n=e,kn):On)(t,n)}function ve(t){return function(){this.removeAttribute(t)}}function ye(t){return function(){this.removeAttributeNS(t.space,t.local)}}function be(t,n,e){var r,o,i=e+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function xe(t,n,e){var r,o,i=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function we(t,n,e){var r,o,i;return function(){var a,s,u=e(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===o?i:(o=s,i=n(r=a,u));this.removeAttribute(t)}}function _e(t,n,e){var r,o,i;return function(){var a,s,u=e(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===o?i:(o=s,i=n(r=a,u));this.removeAttributeNS(t.space,t.local)}}function Ce(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function ke(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Ee(t,n){var e,r;function o(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&ke(t,o)),e}return o._value=n,o}function Me(t,n){var e,r;function o(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Ce(t,o)),e}return o._value=n,o}function Le(t,n){return function(){ce(this,t).delay=+n.apply(this,arguments)}}function Oe(t,n){return n=+n,function(){ce(this,t).delay=n}}function Se(t,n){return function(){le(this,t).duration=+n.apply(this,arguments)}}function Ae(t,n){return n=+n,function(){le(this,t).duration=n}}function ze(t,n){if("function"!=typeof n)throw new Error;return function(){le(this,t).ease=n}}function qe(t,n,e){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?ce:le;return function(){var a=i(this,t),s=a.on;s!==r&&(o=(r=s).copy()).on(n,e),a.on=o}}var Te=Nt.prototype.constructor;function Ne(t){return function(){this.style.removeProperty(t)}}function je(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function De(t,n,e){var r,o;function i(){var i=n.apply(this,arguments);return i!==o&&(r=(o=i)&&je(t,i,e)),r}return i._value=n,i}function Pe(t){return function(n){this.textContent=t.call(this,n)}}function Ie(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Pe(r)),n}return r._value=t,r}var He=0;function Be(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Ve(){return++He}var Re=Nt.prototype;Be.prototype=function(t){return Nt().transition(t)}.prototype={constructor:Be,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=T(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,u,c=r[a],l=c.length,h=i[a]=new Array(l),f=0;f<l;++f)(s=c[f])&&(u=t.call(s,s.__data__,f,c))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,ue(h[f],n,e,f,h,he(s,e)));return new Be(i,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=j(t));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var u,c=r[s],l=c.length,h=0;h<l;++h)if(u=c[h]){for(var f,d=t.call(u,u.__data__,h,c),p=he(u,e),g=0,m=d.length;g<m;++g)(f=d[g])&&ue(f,n,e,g,d,p);i.push(d),a.push(u)}return new Be(i,a,n,e)},filter:function(t){"function"!=typeof t&&(t=D(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var i,a=n[o],s=a.length,u=r[o]=[],c=0;c<s;++c)(i=a[c])&&t.call(i,i.__data__,c,a)&&u.push(i);return new Be(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,o=e.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var u,c=n[s],l=e[s],h=c.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=c[d]||l[d])&&(f[d]=u);for(;s<r;++s)a[s]=n[s];return new Be(a,this._parents,this._name,this._id)},selection:function(){return new Te(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Ve(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=he(a,n);ue(a,t,e,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Be(r,this._parents,t,e)},call:Re.call,nodes:Re.nodes,node:Re.node,size:Re.size,empty:Re.empty,each:Re.each,on:function(t,n){var e=this._id;return arguments.length<2?he(this.node(),e).on.on(t):this.each(qe(e,t,n))},attr:function(t,n){var e=O(t),r="transform"===e?In:me;return this.attrTween(t,"function"==typeof n?(e.local?_e:we)(e,r,ge(this,"attr."+t,n)):null==n?(e.local?ye:ve)(e):(e.local?xe:be)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=O(t);return this.tween(e,(r.local?Ee:Me)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Pn:me;return null==n?this.styleTween(t,function(t,n){var e,r,o;return function(){var i=K(this,t),a=(this.style.removeProperty(t),K(this,t));return i===a?null:i===e&&a===r?o:o=n(e=i,r=a)}}(t,r)).on("end.style."+t,Ne(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,o,i;return function(){var a=K(this,t),s=e(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=K(this,t)),a===u?null:a===r&&u===o?i:(o=u,i=n(r=a,s))}}(t,r,ge(this,"style."+t,n))).each(function(t,n){var e,r,o,i,a="style."+n,s="end."+a;return function(){var u=le(this,t),c=u.on,l=null==u.value[a]?i||(i=Ne(n)):void 0;c===e&&o===l||(r=(e=c).copy()).on(s,o=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,o,i=e+"";return function(){var a=K(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,De(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(ge(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,Ie(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,o=he(this.node(),e).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==n?de:pe)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Le:Oe)(n,t)):he(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Se:Ae)(n,t)):he(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(ze(n,t)):he(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,o=e.size();return new Promise((function(i,a){var s={value:a},u={value:function(){0==--o&&i()}};e.each((function(){var e=le(this,r),o=e.on;o!==t&&((n=(t=o).copy())._.cancel.push(s),n._.interrupt.push(s),n._.end.push(u)),e.on=n}))}))}};var Ze={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Xe(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Ze.time=Kn(),Ze;return e}Nt.prototype.interrupt=function(t){return this.each((function(){fe(this,t)}))},Nt.prototype.transition=function(t){var n,e;t instanceof Be?(n=t._id,t=t._name):(n=Ve(),(e=Ze).time=Kn(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],u=s.length,c=0;c<u;++c)(a=s[c])&&ue(a,t,n,c,s,e||Xe(a,n));return new Be(r,this._parents,t,n)};var We="$";function Ye(){}function $e(t,n){var e=new Ye;if(t instanceof Ye)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,o=-1,i=t.length;if(null==n)for(;++o<i;)e.set(o,t[o]);else for(;++o<i;)e.set(n(r=t[o],o,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function Ue(){}Ye.prototype=$e.prototype={constructor:Ye,has:function(t){return We+t in this},get:function(t){return this[We+t]},set:function(t,n){return this[We+t]=n,this},remove:function(t){var n=We+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===We&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===We&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===We&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===We&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===We&&++t;return t},empty:function(){for(var t in this)if(t[0]===We)return!1;return!0},each:function(t){for(var n in this)n[0]===We&&t(this[n],n.slice(1),this)}};var Fe=$e.prototype;function Ge(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function Qe(t,n){var e,r,o,i,a,s=new nr(t),u=+t.value&&(s.value=t.value),c=[s];for(null==n&&(n=Ke);e=c.pop();)if(u&&(e.value=+e.data.value),(o=n(e.data))&&(a=o.length))for(e.children=new Array(a),i=a-1;i>=0;--i)c.push(r=e.children[i]=new nr(o[i])),r.parent=e,r.depth=e.depth+1;return s.eachBefore(tr)}function Ke(t){return t.children}function Je(t){t.data=t.data.data}function tr(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function nr(t){this.data=t,this.depth=this.height=0,this.parent=null}function er(t,n){return t.parent===n.parent?1:2}function rr(t){var n=t.children;return n?n[0]:t.t}function or(t){var n=t.children;return n?n[n.length-1]:t.t}function ir(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function ar(t,n,e){return t.a.parent===n.parent?t.a:e}function sr(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function ur(){var t=er,n=1,e=1,r=null;function o(o){var u=function(t){for(var n,e,r,o,i,a=new sr(t,0),s=[a];n=s.pop();)if(r=n._.children)for(n.children=new Array(i=r.length),o=i-1;o>=0;--o)s.push(e=n.children[o]=new sr(r[o],o)),e.parent=n;return(a.parent=new sr(null,0)).children=[a],a}(o);if(u.eachAfter(i),u.parent.m=-u.z,u.eachBefore(a),r)o.eachBefore(s);else{var c=o,l=o,h=o;o.eachBefore((function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>h.depth&&(h=t)}));var f=c===l?1:t(c,l)/2,d=f-c.x,p=n/(l.x+f+d),g=e/(h.depth||1);o.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*g}))}return o}function i(n){var e=n.children,r=n.parent.children,o=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,o=t.children,i=o.length;--i>=0;)(n=o[i]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var i=(e[0].z+e[e.length-1].z)/2;o?(n.z=o.z+t(n._,o._),n.m=n.z-i):n.z=i}else o&&(n.z=o.z+t(n._,o._));n.parent.A=function(n,e,r){if(e){for(var o,i=n,a=n,s=e,u=i.parent.children[0],c=i.m,l=a.m,h=s.m,f=u.m;s=or(s),i=rr(i),s&&i;)u=rr(u),(a=or(a)).a=n,(o=s.z+h-i.z-c+t(s._,i._))>0&&(ir(ar(s,n,r),n,o),c+=o,l+=o),h+=s.m,c+=i.m,f+=u.m,l+=a.m;s&&!or(a)&&(a.t=s,a.m+=h-l),i&&!rr(u)&&(u.t=i,u.m+=c-f,r=n)}return r}(n,o,n.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=n,t.y=t.depth*e}return o.separation=function(n){return arguments.length?(t=n,o):t},o.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],o):r?null:[n,e]},o.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],o):r?[n,e]:null},o}function cr(t){return function(){return t}}function lr(t,n,e){this.target=t,this.type=n,this.transform=e}function hr(t,n,e){this.k=t,this.x=n,this.y=e}Ue.prototype=function(t,n){var e=new Ue;if(t instanceof Ue)t.each((function(t){e.add(t)}));else if(t){var r=-1,o=t.length;if(null==n)for(;++r<o;)e.add(t[r]);else for(;++r<o;)e.add(n(t[r],r,t))}return e}.prototype={constructor:Ue,has:Fe.has,add:function(t){return this[We+(t+="")]=t,this},remove:Fe.remove,clear:Fe.clear,values:Fe.keys,size:Fe.size,empty:Fe.empty,each:Fe.each},nr.prototype=Qe.prototype={constructor:nr,count:function(){return this.eachAfter(Ge)},each:function(t){var n,e,r,o,i=this,a=[i];do{for(n=a.reverse(),a=[];i=n.pop();)if(t(i),e=i.children)for(r=0,o=e.length;r<o;++r)a.push(e[r])}while(a.length);return this},eachAfter:function(t){for(var n,e,r,o=this,i=[o],a=[];o=i.pop();)if(a.push(o),n=o.children)for(e=0,r=n.length;e<r;++e)i.push(n[e]);for(;o=a.pop();)t(o);return this},eachBefore:function(t){for(var n,e,r=this,o=[r];r=o.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)o.push(n[e]);return this},sum:function(t){return this.eachAfter((function(n){for(var e=+t(n.data)||0,r=n.children,o=r&&r.length;--o>=0;)e+=r[o].value;n.value=e}))},sort:function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),o=null;t=e.pop(),n=r.pop();for(;t===n;)o=t,t=e.pop(),n=r.pop();return o}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var o=r.length;t!==e;)r.splice(o,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each((function(n){t.push(n)})),t},leaves:function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},links:function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n},copy:function(){return Qe(this).eachBefore(Je)}},sr.prototype=Object.create(nr.prototype),hr.prototype={constructor:hr,scale:function(t){return 1===t?this:new hr(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new hr(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var fr=new hr(1,0,0);function dr(){Ct.stopImmediatePropagation()}function pr(){Ct.preventDefault(),Ct.stopImmediatePropagation()}function gr(){return!Ct.ctrlKey&&!Ct.button}function mr(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function vr(){return this.__zoom||fr}function yr(){return-Ct.deltaY*(1===Ct.deltaMode?.05:Ct.deltaMode?1:.002)}function br(){return navigator.maxTouchPoints||"ontouchstart"in this}function xr(t,n,e){var r=t.invertX(n[0][0])-e[0][0],o=t.invertX(n[1][0])-e[1][0],i=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function wr(){var t,n,e=gr,r=mr,o=xr,i=yr,a=br,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,l=Vn,h=w("start","zoom","end"),f=500,d=0;function p(t){t.property("__zoom",vr).on("wheel.zoom",_).on("mousedown.zoom",C).on("dblclick.zoom",k).filter(a).on("touchstart.zoom",E).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",L).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,n){return(n=Math.max(s[0],Math.min(s[1],n)))===t.k?t:new hr(n,t.x,t.y)}function m(t,n,e){var r=n[0]-e[0]*t.k,o=n[1]-e[1]*t.k;return r===t.x&&o===t.y?t:new hr(t.k,r,o)}function v(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function y(t,n,e){t.on("start.zoom",(function(){b(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).end()})).tween("zoom",(function(){var t=this,o=arguments,i=b(t,o),a=r.apply(t,o),s=null==e?v(a):"function"==typeof e?e.apply(t,o):e,u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,h="function"==typeof n?n.apply(t,o):n,f=l(c.invert(s).concat(u/c.k),h.invert(s).concat(u/h.k));return function(t){if(1===t)t=h;else{var n=f(t),e=u/n[2];t=new hr(e,s[0]-n[0]*e,s[1]-n[1]*e)}i.zoom(null,t)}}))}function b(t,n,e){return!e&&t.__zooming||new x(t,n)}function x(t,n){this.that=t,this.args=n,this.active=0,this.extent=r.apply(t,n),this.taps=0}function _(){if(e.apply(this,arguments)){var t=b(this,arguments),n=this.__zoom,r=Math.max(s[0],Math.min(s[1],n.k*Math.pow(2,i.apply(this,arguments)))),a=It(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=n.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(n.k===r)return;t.mouse=[a,n.invert(a)],fe(this),t.start()}pr(),t.wheel=setTimeout(c,150),t.zoom("mouse",o(m(g(n,r),t.mouse[0],t.mouse[1]),t.extent,u))}function c(){t.wheel=null,t.end()}}function C(){if(!n&&e.apply(this,arguments)){var t=b(this,arguments,!0),r=jt(Ct.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",l,!0),i=It(this),a=Ct.clientX,s=Ct.clientY;Vt(Ct.view),dr(),t.mouse=[i,this.__zoom.invert(i)],fe(this),t.start()}function c(){if(pr(),!t.moved){var n=Ct.clientX-a,e=Ct.clientY-s;t.moved=n*n+e*e>d}t.zoom("mouse",o(m(t.that.__zoom,t.mouse[0]=It(t.that),t.mouse[1]),t.extent,u))}function l(){r.on("mousemove.zoom mouseup.zoom",null),Rt(Ct.view,t.moved),pr(),t.end()}}function k(){if(e.apply(this,arguments)){var t=this.__zoom,n=It(this),i=t.invert(n),a=t.k*(Ct.shiftKey?.5:2),s=o(m(g(t,a),n,i),r.apply(this,arguments),u);pr(),c>0?jt(this).transition().duration(c).call(y,s,n):jt(this).call(p.transform,s)}}function E(){if(e.apply(this,arguments)){var n,r,o,i,a=Ct.touches,s=a.length,u=b(this,arguments,Ct.changedTouches.length===s);for(dr(),r=0;r<s;++r)i=[i=Ht(this,a,(o=a[r]).identifier),this.__zoom.invert(i),o.identifier],u.touch0?u.touch1||u.touch0[2]===i[2]||(u.touch1=i,u.taps=0):(u.touch0=i,n=!0,u.taps=1+!!t);t&&(t=clearTimeout(t)),n&&(u.taps<2&&(t=setTimeout((function(){t=null}),f)),fe(this),u.start())}}function M(){if(this.__zooming){var n,e,r,i,a=b(this,arguments),s=Ct.changedTouches,c=s.length;for(pr(),t&&(t=clearTimeout(t)),a.taps=0,n=0;n<c;++n)r=Ht(this,s,(e=s[n]).identifier),a.touch0&&a.touch0[2]===e.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===e.identifier&&(a.touch1[0]=r);if(e=a.that.__zoom,a.touch1){var l=a.touch0[0],h=a.touch0[1],f=a.touch1[0],d=a.touch1[1],p=(p=f[0]-l[0])*p+(p=f[1]-l[1])*p,v=(v=d[0]-h[0])*v+(v=d[1]-h[1])*v;e=g(e,Math.sqrt(p/v)),r=[(l[0]+f[0])/2,(l[1]+f[1])/2],i=[(h[0]+d[0])/2,(h[1]+d[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],i=a.touch0[1]}a.zoom("touch",o(m(e,r,i),a.extent,u))}}function L(){if(this.__zooming){var t,e,r=b(this,arguments),o=Ct.changedTouches,i=o.length;for(dr(),n&&clearTimeout(n),n=setTimeout((function(){n=null}),f),t=0;t<i;++t)e=o[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=jt(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return p.transform=function(t,n,e){var r=t.selection?t.selection():t;r.property("__zoom",vr),t!==r?y(t,n,e):r.interrupt().each((function(){b(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},p.scaleBy=function(t,n,e){p.scaleTo(t,(function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e}),e)},p.scaleTo=function(t,n,e){p.transform(t,(function(){var t=r.apply(this,arguments),i=this.__zoom,a=null==e?v(t):"function"==typeof e?e.apply(this,arguments):e,s=i.invert(a),c="function"==typeof n?n.apply(this,arguments):n;return o(m(g(i,c),a,s),t,u)}),e)},p.translateBy=function(t,n,e){p.transform(t,(function(){return o(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),r.apply(this,arguments),u)}))},p.translateTo=function(t,n,e,i){p.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,s=null==i?v(t):"function"==typeof i?i.apply(this,arguments):i;return o(fr.translate(s[0],s[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,u)}),i)},x.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){!function(t,n,e,r){var o=Ct;t.sourceEvent=Ct,Ct=t;try{n.apply(e,r)}finally{Ct=o}}(new lr(p,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},p.wheelDelta=function(t){return arguments.length?(i="function"==typeof t?t:cr(+t),p):i},p.filter=function(t){return arguments.length?(e="function"==typeof t?t:cr(!!t),p):e},p.touchable=function(t){return arguments.length?(a="function"==typeof t?t:cr(!!t),p):a},p.extent=function(t){return arguments.length?(r="function"==typeof t?t:cr([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),p):r},p.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],p):[s[0],s[1]]},p.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],p):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},p.constrain=function(t){return arguments.length?(o=t,p):o},p.duration=function(t){return arguments.length?(c=+t,p):c},p.interpolate=function(t){return arguments.length?(l=t,p):l},p.on=function(){var t=h.on.apply(h,arguments);return t===h?p:t},p.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,p):Math.sqrt(d)},p}var _r={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkgrey:{r:169,g:169,b:169},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},grey:{r:128,g:128,b:128},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightgrey:{r:211,g:211,b:211},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},transparent:{r:255,g:255,b:255,a:0},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}},Cr=function(t){var n=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i.exec(t);if(n)return"rgb(".concat(n[1],",").concat(n[2],",").concat(n[3],")");if(n=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d(\.\d+)?)\s*\)$/i.exec(t))return"rgba(".concat(n[1],",").concat(n[2],",").concat(n[3],",").concat(n[4],")");if(n=/^argb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i.exec(t)){var e=Math.round(n[1]/2.55)/100;return"rgba(".concat(n[2],",").concat(n[3],",").concat(n[4],",").concat(e,")")}if(n=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i.exec(t))return t;var r=t&&_r[t.toLowerCase()];if(r){var o=void 0!==r.a?r.a:1;return"rgba(".concat(r.r,",").concat(r.g,",").concat(r.b,",").concat(o,")")}return"none"},kr=function(t){var n,e,r,o,i=.5;if(t.length>7){var a=-1!==(n=t.split(","))[0].indexOf("a");return e=a?parseInt(n[0].slice(5),10):parseInt(n[0].slice(4),10),o=parseInt(n[1],10),r=parseInt(n[2],10),"".concat((a?"rgba(":"rgb(")+(Math.round((0-e)*i)+e),",").concat(Math.round((0-o)*i)+o,",").concat(Math.round((0-r)*i)+r).concat(a?",".concat(n[3]):")")}return e=(n=parseInt(t.slice(1),16))>>16,o=n>>8&255,r=255&n,"#".concat((16777216+65536*(Math.round((0-e)*i)+e)+256*(Math.round((0-o)*i)+o)+(Math.round((0-r)*i)+r)).toString(16).slice(1))},Er=function(t){var n,e,r,o;return(o=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i.exec(t))||(o=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d(\.\d+)?)\s*\)$/i.exec(t))?(n=parseInt(o[1],10),e=parseInt(o[2],10),r=parseInt(o[3],10)):(o=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i.exec(t))&&(n=parseInt(o[1],16),e=parseInt(o[2],16),r=parseInt(o[3],16)),.299*n+.587*e+.114*r<125},Mr=3300,Lr={colorByExpression:"color",labelExpression:"label",subLabelExpression:"subLabel",extraLabelExpression:"extraLabel"},Or="max-data-limit";function Sr(t){return t[0].qText}function Ar(t){return t[1].qText}function zr(t,n,e,r,o,i,a){return qr.apply(this,arguments)}function qr(){return(qr=r(regeneratorRuntime.mark((function t(n,e,r,o,i,a,s){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getHyperCubeData("/qHyperCubeDef",[{qTop:i,qLeft:0,qWidth:3,qHeight:Mr}]).then((function(t){n.push(t[0]),e.push.apply(e,u(t[0].qMatrix)),i+=t[0].qArea.qHeight}));case 2:if(!(a>=s)){t.next=4;break}return t.abrupt("return",Or);case 4:if(!(o>i)){t.next=6;break}return t.abrupt("return",zr(n,e,r,o,i,a+1,s));case 6:return t.abrupt("return","");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Tr=function(){var t=r(regeneratorRuntime.mark((function t(n,e){var r,o,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.snapshotData){t.next=2;break}return t.abrupt("return",{status:"",dataMatrix:n.snapshotData.dataMatrix});case 2:if(r=n.qHyperCube&&n.qHyperCube.qDataPages,o=n.qHyperCube.qSize.qcy,i=r[0].qArea.qHeight,a=u(r[0].qMatrix),s="",!(o>i&&1===r.length&&e)){t.next=13;break}return t.next=10,zr(n.qHyperCube.qDataPages,a,e,o,i,0,n.rowLimit/Mr||10);case 10:s=t.sent,t.next=14;break;case 13:r.forEach((function(t,n){n>0&&a.push.apply(a,u(t.qMatrix))}));case 14:return t.abrupt("return",{status:s,dataMatrix:a});case 15:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}();function Nr(t){if(t&&t.length){var n=[];return t.forEach((function(t,e){Lr[t.id]&&n.push({prop:Lr[t.id],index:e})})),n}return[]}function jr(t,n){var e={};return t.forEach((function(t){"color"===t.prop?e[t.prop]=Cr(n.qValues[t.index].qText):e[t.prop]=n.qValues[t.index].qText})),e}function Dr(t){if(!t)return!0;for(var n=0;n<t.length;++n)if(void 0!==t[n].children)return!1;return!0}function Pr(t,n,e,r,o){for(var i={},s=[],u=0;u<t.length;++u){var c=t[u],l=Sr(c),h={id:l,parentId:Ar(c),children:[],elemNo:c[0].qElemNumber,attributes:jr(n,c[0].qAttrExps),measure:c[2]&&c[2].qText,rowNo:u};i[l]=h,s.push(h)}for(var f=[],d=!1,p=0;p<s.length;++p){var g=s[p],m=i[g.parentId];g.parent=m,m?m.children.length>98?d=!0:m.children.push(a({childNumber:m.children.length},g)):f.length>98?d=!0:f.push(g)}if(0===f.length)return{error:"no_root",message:o.get("Object.OrgChart.MissingRoot")};var v=[];if(e===Or&&v.push(o.get("Object.OrgChart.MaxData")),d&&v.push(o.get("Object.OrgChart.MaxChildren")),function(t){var n={},e={};function r(t){n[t.id]=!0,e[t.id]=!0;for(var o=0;o<t.children.length;++o){if(!n[t.children[o].id]&&r(t.children[o]))return!0;if(e[t.children[o].id])return!0}return e[t.id]=!1,!1}for(var o=0;o<t.length;++o){var i=t[o];if(!n[i.id]&&r(i))return!0}return!1}(s)&&v.push(o.get("Object.OrgChart.CycleWarning")),1===f.length)return f[0].warn=v,f[0].navigationMode=r,f[0];v.push(o.get("Object.OrgChart.DummyWarn"));var y={id:"Root",name:o.get("Object.OrgChart.DummyRoot"),isDummy:!0,warn:v,children:f,navigationMode:r};return f.forEach((function(t,n){t.parentId="Root",t.parent=y,t.childNumber=n})),y}function Ir(){return(Ir=r(regeneratorRuntime.mark((function t(n){var e,r,o,i,a,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.layout,r=n.model,o=n.translator,e.qHyperCube){t.next=3;break}throw new Error("Require a hypercube");case 3:if(!(e.qHyperCube.qDimensionInfo.length<2)){t.next=5;break}return t.abrupt("return",!1);case 5:return t.next=7,Tr(e,r);case 7:if(i=t.sent,a=i.status,s=i.dataMatrix,u=Nr(e.qHyperCube.qDimensionInfo[0].qAttrExprInfo),s){t.next=13;break}return t.abrupt("return",null);case 13:if(!(s.length<1)){t.next=15;break}return t.abrupt("return",null);case 15:return t.abrupt("return",Pr(s,u,a,e.navigationMode,o));case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Hr={cardWidth:152,cardHeight:64,widthMargin:32,heightMargin:56,buttonMargin:16,leafMargin:16,cardPadding:8,buttonWidth:48,buttonHeight:24,rootDiameter:20,r:4,tooltipWidth:240,tooltipPadding:15,maxZoom:6,minZoom:.2},Br=function t(n,e,r,o,i,a){var s=Hr.buttonMargin,u=i&&i.initialX||0;return"expandAll"===a?(n[o]=n.x+u,n[o]):(n.parent?(n.parent[o]||(n.parent[o]=t(n.parent,e,r,o,i)),"Root"===n.parent.data.id?n[o]=n.parent[o]+(n.data.childNumber-(n.parent.children.length-1)/2)*e:n[o]=Dr(n.parent.children)?n.parent[o]+s:n.parent[o]+(n.data.childNumber-(n.parent.children.length-1)/2)*e):n[o]=u,n[o])};function Vr(t,n,e,r){var o,i,a,s=Hr.widthMargin,u=Hr.heightMargin,c=Hr.cardWidth,l=Hr.cardHeight,h=Hr.cardPadding;switch(t){case"ttb":o=c+s,a={depthSpacing:i="expandAll"===r?l+2*h:l+u,isVertical:!0,x:function(t){return Br(t,o,n,"xActual",e,r)},y:function(t){return function(t,n,e,r,o){var i=Hr.cardHeight,a=Hr.leafMargin,s=r&&r.initialY||0;return t.parent&&"Root"!==t.parent.data.id&&"expandAll"!==o&&Dr(t.parent.children)?t[e]=t.parent.y+n+t.data.childNumber*(i+a)+s:t[e]=t.y+s,t[e]}(t,i,"yActual",e,r)}}}return a}var Rr=function(t){var n=document.createElement("div"),e=document.createTextNode(t);return n.appendChild(e),n.innerHTML},Zr=function(t){for(var n=["#"," ","(",")"],e="",r=0;r<t.length;r++){var o=t.charAt(r),i=t.charCodeAt(r);if(!o.match(/[a-zA-Z0-9]/)&&n.indexOf(o)<0){var a=i.toString(16),s="000000".substr(a.length);e+="\\".concat(s).concat(a)}else e+=o}return e};function Xr(t){var n=Cr(t);return"none"!==n?n:Zr(t)}var Wr=function(t,n,e){var r=e.api,o=e.state,i=r&&r.isActive()&&-1!==o.indexOf(t.elemNo),a=function(t,n){if(t.attributes&&t.attributes.color){var e=Cr(t.attributes.color);if("none"!==e)return e}return Xr(n.backgroundColor)}(t,n),s=Xr(function(t,n){return"default"===t.fontColor?Er(n)?"#e6e6e6":"#484848":t.fontColor}(n,a)),u=t.attributes||{},c='<div class="sn-org-card-title">'.concat(Rr(u.label||t.id),"</div>");if(u.subLabel&&(c+='<div class="sn-org-card-label">'.concat(Rr(u.subLabel),"</div>")),t.measure){var l=n.measureLabel?"".concat(n.measureLabel,": "):"";c+='<div class="sn-org-card-label">'.concat(Rr(l+t.measure),"</div>")}else u.extraLabel&&(c+='<div class="sn-org-card-label">'.concat(Rr(u.extraLabel),"</div>"));var h=r&&r.isActive()?i?" selected":" not-selected":"",f=n.border,d=f.top,p=void 0===d||d,g=f.fullBorder,m=f.colorType,v="auto"===(void 0===m?"auto":m)?kr(a):Xr(n.borderColor),y=p&&!i?"3px solid ".concat(v):"",b=g&&!i?"1px solid ".concat(v):"",x=Hr.cardHeight;return i?x-=8:g?x-=4:p&&(x-=3),'<div class="sn-org-card-text'.concat(h,'" style="background-color:').concat(a,";color:").concat(s,"; border:").concat(b,"; border-top:").concat(y,"; height:").concat(x,'px;">').concat(c,"</div>")},Yr=function(t,n){var e=n.api,r=n.state,o=n.singleSelect,i=n.setState;if(t&&e){var a;if(t.data.elemNo<0&&-3!==t.data.elemNo)return;if(t.data.isLocked)return;e.isActive()&&r?a=r.concat():(e.begin("/qHyperCubeDef"),a=[]);var s=a.indexOf(t.data.elemNo),u=-1===s,c=[];o||(c=function(t,n){var e=[];return t.children&&function t(r){r.children.forEach((function(r){r.data.selected=n,e.push(r.data.elemNo),r.children&&r.children.length>0&&t(r)}))}(t),e}(t,u)),u?(a.push(t.data.elemNo),c.forEach((function(t){-1===a.indexOf(t)&&a.push(t)}))):(a.splice(s,1),c.forEach((function(t){var n=a.indexOf(t);-1!==n&&a.splice(n,1)}))),0===a.length?e.clear():e.select({method:"selectHyperCubeValues",params:["/qHyperCubeDef",0,a,!1]}),i(a)}};function $r(t,n,e,r,o){var i=Hr.tooltipPadding,a=Hr.cardWidth/2,s=n-(r(t)*o.zoom+o.y-i),u=e(t)*o.zoom+o.x+a*o.zoom;return"bottom:".concat(s,"px;left:").concat(u,"px;")}function Ur(t,n){var e=Rr(t.data.attributes.label||t.data.id),r=t.data.attributes.subLabel?"".concat(Rr(t.data.attributes.subLabel),"<br />"):"",o=t.data.attributes.extraLabel?"".concat(Rr(t.data.attributes.extraLabel),"<br />"):"",i=Rr(t.data.measure?"".concat(n.measureLabel?"".concat(n.measureLabel,": "):"").concat(t.data.measure):"");return'<div class="sn-org-tooltip-inner"><div class="sn-org-tooltip-header">'.concat(e,"</div>").concat(r).concat(o).concat(i,"</div>")}function Fr(t,n,e,r,o,i,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:250;t.active=!0,t.timeout=setTimeout((function(){t.active&&t.html(Ur(n,r)).classed("sn-org-tooltip-visible",!0).attr("style",(function(){return $r(n,e,o,i,a)}))}),s)}function Gr(t){clearTimeout(t.timeout),t.active=!1,t.classed("sn-org-tooltip-visible",!1)}function Qr(t){var n=t.positioning,e=t.divBox,r=t.nodes,o=t.styling,i=t.setExpandedCallback,a=t.wrapperState,s=t.selectionObj,u=t.navigationMode,c=t.element,l=t.tooltip,h=n.x,f=n.y,d=Hr.cardWidth,p=Hr.cardHeight,g=Hr.buttonWidth,m=Hr.buttonHeight,v=Hr.cardPadding,y=Hr.rootDiameter,b=a.expandedState.topId,x=r.find((function(t){return t.data.id===b})),w=x&&x.parent?x.parent.ancestors().map((function(t){return t.data.id})):[],_=document.getElementsByTagName("html")[0].classList.contains("touch-on");e.selectAll(".sn-org-nodes").data(r.filter((function(t){return t.parent&&"Root"===t.parent.data.id}))).enter().append("div").attr("class","sn-org-root").attr("style",(function(t){return"top:".concat(f(t)-y-v,"px;left:").concat(h(t)+(d-y)/2,"px")})).attr("id",(function(t){return t.data.id})),e.selectAll(".sn-org-nodes").data(r.filter((function(t){return"Root"!==t.data.id}))).enter().append("div").attr("class","sn-org-card").attr("style",(function(t){return"width:".concat(d,"px;height:").concat(p,"px; top:").concat(f(t),"px;left:").concat(h(t),"px;")})).attr("id",(function(t){return t.data.id})).on("click",(function(t){a.constraints.active||"Root"===t.data.id||(_&&Fr(l,t,c.clientHeight,o,h,f,a.transform,0),Yr(t,s))})).html((function(t){return Wr(t.data,o,s)})).on("mouseenter",(function(t){_||a.constraints.active||0!==event.buttons||Fr(l,t,c.clientHeight,o,h,f,a.transform)})).on("mouseleave",(function(){!_&&Gr(l)})).on("mousedown",(function(){Gr(l)})).on("touchmove",(function(){Gr(l)})).on("wheel",(function(){Gr(l)})),"expandAll"!==u&&e.selectAll(".sn-org-nodes").data(r.filter((function(t){return!!t.children&&"Root"!==t.data.id}))).enter().append("div").attr("class","sn-org-traverse").attr("style",(function(t){return"width:".concat(g,"px;height:").concat(m,"px;top:").concat(f(t)+p+v,"px;left:").concat(h(t)+(d-g)/2,"px;")})).attr("id",(function(t){return"".concat(t.data.id,"-expand")})).on("mouseenter",(function(){a.constraints.active||(event.target.style.cursor="pointer")})).on("click",(function(t){a.constraints.active||(i(function(t,n,e){var r=n.topId,o=n.isExpanded,i=n.expandedChildren;if(t.data.id===r)o=!o,i=[];else if(e.includes(t.data.id))r=t.parent?t.parent.data.id:t.data.id,o=!!t.parent,i=[];else if(t.parent.data.id===r){var a=t.parent.children.filter((function(t){return i.includes(t.data.id)})).every((function(t){return Dr(t.children)}));i.includes(t.data.id)?i.splice(i.indexOf(t.data.id),1):Dr(t.children)&&a?i.push(t.data.id):i=[t.data.id]}else r=t.parent.data.id,o=!0,i=[t.data.id];return{topId:r,isExpanded:o,expandedChildren:i}}(t,a.expandedState,w)),event.stopPropagation())})).html((function(t){return"".concat(function(t,n,e){var r=n.topId,o=n.isExpanded,i=n.expandedChildren;return t.data.id===r&&o||t.parent&&t.parent.data.id===r&&i.includes(t.data.id)||e.includes(t.data.id)?"-":"+"}(t,a.expandedState,w)," ").concat(t.data.children.length)}))}function Kr(t,n,e,r){t.append("path").attr("class","sn-org-path").attr("id",(function(t){return t.data.id})).attr("d",(function(t){var e="";return function(t,n,e,r){var o=e.depthSpacing,i=e.isVertical,a=e.x,s=e.y,u=Hr.cardHeight,c=Hr.buttonHeight,l=Hr.cardPadding,h=Hr.buttonMargin,f=[],d=Hr.cardWidth/2,p=u/2,g={x:t.xActual,y:t.yActual};if(t.parent&&"Root"!==t.parent.data.id){var m=o/2,v="expandAll"===r?u:u+l+c,y={x:a(t.parent)+d,y:s(t.parent)+v};"expandAll"!==r&&Dr(t.parent.children)?f.push(i?[{x:g.x,y:g.y+p},{x:y.x-d,y:g.y+p},{x:y.x-d,y:y.y+h},{x:y.x,y:y.y+h},{x:y.x,y:y.y}]:[{x:g.x,y:g.y},{x:g.x,y:y.y-p},{x:y.x+m,y:y.y-p},{x:y.x+m,y:y.y},{x:y.x,y:y.y}]):g.x===a(t.parent)||g.y===s(t.parent)?f.push([{x:g.x+d,y:g.y},{x:y.x,y:y.y}]):f.push(i?[{x:g.x+d,y:g.y},{x:g.x+d,y:g.y-l},{x:y.x,y:g.y-l},{x:y.x,y:y.y}]:[{x:g.x,y:g.y},{x:g.x-l,y:g.y},{x:g.x-l,y:y.y},{x:y.x,y:y.y}])}else t.parent&&f.push([{x:g.x+d,y:g.y},{x:g.x+d,y:g.y-l}]);return t.children&&"Root"!==t.data.id&&f.push([{x:g.x+d,y:g.y+u},{x:g.x+d,y:g.y+u+l}]),f}(t,0,n,r).forEach((function(t){e+=function(t){var n,e=Hr.r,r="M ".concat(t[0].x," ").concat(t[0].y," "),o=function(e){var r=t[e].x-t[e-1].x,o=t[e].y-t[e-1].y;n={x:(r>0)-(r<0)||+r,y:(o>0)-(o<0)||+o}};o(1);for(var i=1;i<t.length;++i){var a=t[i];i<t.length-1?(r+="L ".concat(a.x-n.x*e," ").concat(a.y-n.y*e," "),o(i+1),r+="Q ".concat(a.x," ").concat(a.y," ").concat(a.x+n.x*e," ").concat(a.y+n.y*e," ")):r+="L ".concat(a.x," ").concat(a.y," ")}return r}(t).slice(0,-1)})),e}))}var Jr=function(t,n,e,r,o){var i=t.k,a="".concat(t.x,"px, ").concat(t.y,"px");n.attr("transform",t),e.classed("org-disable-transition",!0),n.classed("org-disable-transition",!0),e.attr("style","width:".concat(r,"px;height:").concat(o,"px; transform: translate(").concat(a,") scale(").concat(i,")"))};var to=function(t,n,e,r){var o=t.topId,i=t.isExpanded,a=t.expandedChildren;if("expandAll"===r)return n.descendants();var s=n.descendants().find((function(t){return t.data.id===o}))||n,c=[];if(i&&s.children&&s.children.forEach((function(t){c.push(t),t.children&&(-1!==a.indexOf(t.data.id)||e)&&t.children.forEach((function(n){c.push(n),-1!==a.indexOf(t.data.id)&&e&&n.children&&n.children.forEach((function(t){c.push(t)}))}))})),"free"===n.data.navigationMode&&s.parent){var l=s.parent.ancestors(),h=l.map((function(t){return t.data.id}));l.forEach((function(t){e&&t.children.forEach((function(t){t.children&&-1===h.indexOf(t.data.id)&&t.data.id!==s.data.id&&c.unshift.apply(c,u(t.children))})),c.unshift.apply(c,u(t.children)),t.parent||c.unshift(t)}))}else c.unshift(s);return c},no=function t(n){var e=n.element,r=n.dataTree,o=n.selectionObj,i=n.wrapperState,a=n.setInitialZoom,s=n.setTransform,u=n.setExpandedState,c=n.viewState,l=n.setContainerData,h=n.layout;e.innerHTML="",e.className="sn-org-chart";var f=h.navigationMode,d=Vr("ttb",e,{},f),p=e.getBoundingClientRect(),g=p.width,m=p.height,v=jt(e).append("span").attr("class","sn-org-zoomwrapper").on("click",(function(){i.constraints.active||o.api.isActive()&&o.state||(o.api.begin("/qHyperCubeDef"),o.setState([]))})).node(),y=jt(v).selectAll("svg").data([{}]).enter().append("svg").attr("class","sn-org-svg").attr("width","100%").attr("height","100%"),b=jt(v).selectAll("div").data([{}]).enter().append("div").attr("class","sn-org-nodes"),x=jt(e).append("button").attr("class","sn-org-homebutton disabled").on("click",(function(){t({element:e,dataTree:r,selectionObj:o,wrapperState:i,setInitialZoom:a,setTransform:s,setExpandedState:u,viewState:c,setContainerData:l,layout:h})})).html('<span class="lui-fade-button__icon sn-org-home-icon">\n                          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20" viewBox="0 0 16 16">\n                            <defs>\n                              <path id="home-a" d="M2,7.9 L8,3.4 L14,7.9 L14,16 L12,16 L12,11.2 C12,11.0895431 11.9104569,11 11.8,11 L9.2,11 C9.08954305,11 9,11.0895431 9,11.2 L9,16 L2,16 L2,7.9 Z M7,13.8 L7,11.2 C7,11.0895431 6.91045695,11 6.8,11 L4.2,11 C4.08954305,11 4,11.0895431 4,11.2 L4,13.8 C4,13.9104569 4.08954305,14 4.2,14 L6.8,14 C6.91045695,14 7,13.9104569 7,13.8 Z M13,4.1 L16,6.5 L15,7.5 L8,2 L1,7.5 L0,6.5 L8,0 L11,2.4 L11,1 L13,1 L13,4.1 Z"/>\n                            </defs>\n                            <use xlink:href="#home-a"/>\n                          </svg>\n                        </span>').node(),w=function(t){var n=jt(t).append("div").attr("class","sn-org-tooltip").on("mousedown",(function(){n.classed("sn-org-tooltip-visible",!1)}));return n}(e);if(r.error)return jt(v).append("div").attr("class","sn-org-error").html(r.message),!1;r.warn&&r.warn.length&&jt(v).append("span").attr("class","sn-org-warning").html("*".concat(r.warn.join(" ")));var _=y.append("g").attr("class","sn-org-paths"),C=ur().size([g,m]).nodeSize([Hr.cardWidth+Hr.cardPadding,d.depthSpacing])(Qe(r)),k=!i.expandedState||!C.descendants().find((function(t){return t.data.id===i.expandedState.topId})),E=k?{topId:C.data.id,isExpanded:!0,expandedChildren:[],useTransitions:!1}:i.expandedState,M=to(E,C,!1,f);M.forEach((function(t){t.xActual&&t.yActual||(d.x(t),d.y(t))}));var L=function(t){var n=Hr.cardWidth,e=Hr.cardHeight,r=Hr.buttonHeight,o=Hr.buttonMargin,i={left:1/0,top:1/0,right:-1/0,bottom:-1/0};return t.forEach((function(t){i.left=Math.min(t.xActual,i.left),i.top=Math.min(t.yActual,i.top),i.right=Math.max(t.xActual,i.right),i.bottom=Math.max(t.yActual,i.bottom)})),{x:i.left,y:i.top-r-o,width:i.right-i.left+n,height:i.bottom-i.top+e+2*(r+o)}}(M),O=c&&c.initialZoom?c.initialZoom:function(t,n,e){var r=Hr.widthMargin,o=Hr.cardHeight,i=Hr.minZoom,a="expandAll"===e?1/0:Hr.maxZoom,s=t.width,u=t.height,c=n.clientHeight,l=n.clientWidth,h=s+2*r,f=u+o,d=Math.max(Math.min(h/l,a),i),p=Math.max(Math.min(f/c,a),i);return d>p?{initialX:-t.x+r,initialY:-t.y+(c*d-u)/2,initialZoom:d}:{initialX:-t.x+(l*p-s)/2,initialY:o/2,initialZoom:p}}(L,e,f);return a(O),d=Vr("ttb",e,O,f),function(t){var n=t.containerData,e=t.setTransform,r=t.transformState,o=t.wrapperState,i=t.initialZoomState,a=t.navigationMode,s=n.svg,u=n.divBox,c=n.width,l=n.height,h=n.zoomWrapper,f=n.element,d=n.tooltip,p=n.homeButton,g=r.x,m=void 0===g?0:g,v=r.y,y=void 0===v?0:v,b=Hr.minZoom,x=Hr.maxZoom,w=r&&1/r.zoom||i.initialZoom,_="expandAll"===a?w:Math.max(Math.min(x,w),b),C=function(){var t=document.createEvent("MouseEvents");t.initEvent("mousedown",!0,!1),f.dispatchEvent(t)};jt(h).call(wr().extent([[0,0],[c,l]]).filter((function(){return!(o.constraints.active||"dblclick"===Ct.type||"mousedown"===Ct.type&&3===Ct.which)})).scaleExtent(["expandAll"===a?.8:b*_,x*_]).on("start",C).on("zoom",(function(){jt(p).attr("class","sn-org-homebutton lui-fade-button lui-fade-button--large"),e({zoom:Ct.transform.k/_,x:Ct.transform.x,y:Ct.transform.y}),C(),Gr(d),Jr(fr.translate(Ct.transform.x,Ct.transform.y).scale(Ct.transform.k/_),s,u,c,l)}))),e({zoom:1/_,x:m,y:y}),Jr(fr.translate(m,y).scale(1/_),s,u,c,l)}({containerData:{svg:_,divBox:b,width:g,height:m,zoomWrapper:v,element:e,tooltip:w,homeButton:x},setTransform:s,transformState:c&&c.transform||{},wrapperState:i,initialZoomState:O,navigationMode:f}),k&&u(E),l({svg:_,divBox:b,allNodes:C,positioning:d,width:g,height:m,element:e,zoomWrapper:v,tooltip:w,homeButton:x})},eo=function(t,n,e,r){var o={expandedState:t,transform:n,size:{w:r.clientWidth,h:r.clientHeight},initialZoom:e};return o.expandedState.useTransitions=!1,o};function ro(n,e,r,o,i){var a=t.useElement();t.onTakeSnapshot((function(t){t.snapshotData||(t.snapshotData={}),r.snapshotData&&r.snapshotData.viewState||(t.snapshotData.viewState=eo(n,o,i,a)),t.snapshotData.dataMatrix=function(t,n,e){if(e.snapshotData&&e.snapshotData.dataMatrix)return e.snapshotData.dataMatrix;var r=e.navigationMode,o=to(t,n,!0,r),i=[],a=e.qHyperCube.qDataPages,s=[];return a.forEach((function(t){s.push.apply(s,u(t.qMatrix))})),o.forEach((function(t){void 0!==t.data.rowNo&&i.push(s[t.data.rowNo])})),i}(n,e.allNodes,r)})),t.useImperativeHandle((function(){return{getViewState:function(){return eo(n,o,i,a)}}}))}var oo={"Object.OrgChart":"Org chart","Object.OrgChart.Description":"Displays the relations of an organization or similarly structured data. Starts at the top and allows for navigation through the hierarchy.","Object.OrgChart.MaxData":"The maximum data limit is reached. The tree may display incorrectly.","Object.OrgChart.DummyWarn":"The data contains multiple root nodes.","Object.OrgChart.CycleWarning":"Data contains circular references, nodes are omitted.","Object.OrgChart.MissingRoot":"No root node, check your data for circular references.","Object.OrgChart.MaxChildren":"Maximum number of child nodes reached, nodes are omitted.","Object.OrgChart.LabelExpression":"Card title","Object.OrgChart.SubLabelExpression":"Card sub-title","Object.OrgChart.ExtraLabelExpression":"Card description","Object.OrgChart.ColorLabelExpression":"Card background color","Object.OrgChart.BackgroundColor":"Background color","Object.OrgChart.FontColor":"Font color","Object.OrgChart.IncludeDescendants":"Include descendants","Object.OrgChart.ExtraLabelDesc":"Description is only visible when a measure is not used"};function io(t){if(t&&t.get&&t.add){var n="Object.OrgChart.MaxData";if(t.get(n)!==n)return;Object.keys(oo).forEach((function(n){t.add({id:n,locale:{"en-US":oo[n]}})}))}}function ao(t,n,e){var r;switch(t.colorType){case"byExpression":r=Cr(t.colorExpression);break;case"colorPicker":r=n.getColorPickerColor(t.color);break;default:r=e}return"none"===r?e:r}var so=function(t){var n=t.Theme,e=t.layout,r=ao(e.style.backgroundColor,n,"#e6e6e6"),o=ao(e.style.fontColor,n,"default"),i=e.qHyperCube.qMeasureInfo.length?e.qHyperCube.qMeasureInfo[0].qFallbackTitle:null,a=e.style.border,s=void 0===a?{colorType:"auto"}:a;return{backgroundColor:r,fontColor:o,measureLabel:i,border:s,borderColor:"auto"!==s.colorType?ao(s,n,kr(r)):kr(r)}},uo=function(t,n){var e=t.viewState;return!e&&n.snapshotData&&n.snapshotData.viewState&&(e=n.snapshotData.viewState),e};function co(t,n){void 0===n&&(n={});var e=n.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===e&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}co(".sn-org-chart {\n  /* Tooltip arrow */\n}\n.sn-org-chart .sn-org-tooltip {\n  visibility: hidden;\n  opacity: 0;\n  /* Unsupported in IE, so there we set width explicitly */\n  width: 230px;\n  width: -moz-max-content;\n  width: fit-content;\n  /* Position the tooltip text */\n  position: absolute;\n  z-index: 1;\n}\n.sn-org-chart .sn-org-tooltip::after {\n  content: '';\n  position: absolute;\n  top: 100%;\n  left: 0%;\n  margin-left: -10px;\n  border-width: 10px;\n  border-style: solid;\n  border-color: #404040 transparent transparent transparent;\n}\n.sn-org-chart .sn-org-tooltip-visible {\n  opacity: 0.9;\n  visibility: visible;\n}\n.sn-org-chart .sn-org-tooltip-inner {\n  max-width: 240px;\n  right: 50%;\n  font-family: 'QlikView Sans', sans-serif;\n  position: relative;\n  max-height: 150px;\n  background-color: #404040;\n  color: #e6e6e6;\n  text-align: left;\n  font-size: 13px;\n  line-height: 15px;\n  padding: 10px 10px 10px 10px;\n  border-radius: 6px;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n  overflow: hidden;\n}\n.sn-org-chart .sn-org-tooltip-inner .sn-org-tooltip-header {\n  font-weight: bold;\n  padding-bottom: 5px;\n}\n");co(".sn-org-chart .sn-org-svg {\n  position: absolute;\n  /* For css only transitions, does not work in IE11 */\n}\n.sn-org-chart .sn-org-svg .sn-org-path {\n  fill: none;\n  stroke: #4c4c4c;\n  stroke-width: 1;\n}\n.sn-org-chart .sn-org-svg .sn-org-paths:not(.org-disable-transition) {\n  transform-origin: 0% 0%;\n  transition-property: all;\n  transition-duration: 0.5s;\n}\n");co(".sn-org-chart .sn-org-warning {\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  font-style: italic;\n  font-size: 13px;\n  color: #7b7a78;\n}\n.sn-org-chart .sn-org-error {\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  font-size: 1.2em;\n  transform: translate(-50%, -50%);\n}\n");co(".sn-org-chart {\n  overflow: hidden;\n}\n.sn-org-chart .sn-org-nodes {\n  position: absolute;\n  transform-origin: 0% 0%;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  backface-visibility: hidden;\n}\n.sn-org-chart .sn-org-nodes:not(.org-disable-transition) {\n  transition-property: all;\n  transition-duration: 0.5s;\n}\n.sn-org-chart .sn-org-nodes .sn-org-traverse {\n  position: absolute;\n  background-color: white;\n  font-size: 20px;\n  font-weight: bold;\n  border-radius: 3px;\n  border: 1px solid #8c8c8c;\n  text-align: center;\n  line-height: 24px;\n}\n.sn-org-chart .sn-org-nodes .sn-org-root {\n  position: absolute;\n  background-color: #8c8c8c;\n  width: 20px;\n  height: 20px;\n  border-radius: 20px;\n}\n.sn-org-chart .sn-org-nodes .sn-org-card {\n  position: absolute;\n}\n.sn-org-chart .sn-org-nodes .sn-org-card .sn-org-card-text {\n  padding-left: 5px;\n  padding-right: 5px;\n  border-radius: 3px;\n}\n.sn-org-chart .sn-org-nodes .sn-org-card .sn-org-card-text.selected {\n  border: 4px solid black;\n  border-radius: 4px;\n}\n.sn-org-chart .sn-org-nodes .sn-org-card .sn-org-card-text.not-selected {\n  opacity: 0.5;\n}\n.sn-org-chart .sn-org-nodes .sn-org-card .sn-org-card-title {\n  font-size: 14px;\n  font-weight: bold;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.sn-org-chart .sn-org-nodes .sn-org-card .sn-org-card-label {\n  font-size: 11px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n");return co(".sn-org-chart .sn-org-homebutton {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  height: 20px;\n  width: 20px;\n  border-color: transparent;\n  background-color: transparent;\n  fill: rgba(89, 89, 89, 0.8);\n  transition: fill 200ms ease-out;\n}\n.sn-org-chart .sn-org-homebutton:hover {\n  fill: #595959;\n}\n.sn-org-chart .sn-org-homebutton.disabled {\n  display: none;\n}\n"),function(n){return{qae:{properties:h,data:f},component:function(){var n=t.useStaleLayout(),e=t.useModel(),r=t.useElement(),o=t.useTheme(),i=t.useOptions(),a=t.useRect(),u=t.useConstraints(),c=t.useTranslator(),l=s(t.useState(null),2),h=l[0],f=l[1],d=s(t.useState(null),2),p=d[0],g=d[1],m=s(t.useState(null),2),v=m[0],y=m[1],b=s(t.useState(null),2),x=b[0],w=b[1],_=s(t.useState(null),2),C=_[0],k=_[1],E=s(t.useState({transform:{},constraints:u,expandedState:v}),1)[0],M=function(n){var e=s(t.useState(!1),2),r=e[0],o=e[1],i=t.useSelections(),a=!!t.useLayout().qSelectionInfo.qInSelections,u=s(t.useState({api:i,setState:function(t){u.state=t},state:[],singleSelect:!1}),1)[0];t.useEffect((function(){io(n)}),[n]);var c=function(){u.state=[]},l=function(){u.state=[],o(!1)};return t.useEffect((function(){return u.api?(u.api=i,u.api.on("deactivated",c),u.api.on("canceled",l),u.api.on("confirmed",l),u.api.on("cleared",c),function(){u.api.removeListener("deactivated",c),u.api.removeListener("canceled",l),u.api.removeListener("confirmed",l),u.api.removeListener("cleared",c)}):function(){}}),[i]),t.useEffect((function(){u.singleSelect=r}),[r]),t.useAction((function(){return{action:function(){o(!r)},icon:{shapes:[{type:"path",attrs:{d:"M9.5,15 C9.77614237,15 10,15.2238576 10,15.5 C10,15.7761424 9.77614237,16 9.5,16 L6.5,16 C6.22385763,16 6,15.7761424 6,15.5 C6,15.2238576 6.22385763,15 6.5,15 L9.5,15 Z M15.5,13 C15.7761424,13 16,13.2238576 16,13.5 L16,15 C16,15.5522847 15.5522847,16 15,16 L13.5,16 C13.2238576,16 13,15.7761424 13,15.5 C13,15.2238576 13.2238576,15 13.5,15 L14.4,15 C14.7313708,15 15,14.7313708 15,14.4 L15,13.5 C15,13.2238576 15.2238576,13 15.5,13 Z M0.5,13 C0.776142375,13 1,13.2238576 1,13.5 L1,14.4 C1,14.7313708 1.26862915,15 1.6,15 L2.5,15 C2.77614237,15 3,15.2238576 3,15.5 C3,15.7761424 2.77614237,16 2.5,16 L1,16 C0.44771525,16 0,15.5522847 0,15 L0,13.5 C0,13.2238576 0.223857625,13 0.5,13 Z M6.8,9 C6.91045695,9 7,9.08954305 7,9.2 L7,12.8 C7,12.9104569 6.91045695,13 6.8,13 L3.2,13 C3.08954305,13 3,12.9104569 3,12.8 L3,9.2 C3,9.08954305 3.08954305,9 3.2,9 L6.8,9 Z M12.8,9 C12.9104569,9 13,9.08954305 13,9.2 L13,12.8 C13,12.9104569 12.9104569,13 12.8,13 L9.2,13 C9.08954305,13 9,12.9104569 9,12.8 L9,9.2 C9,9.08954305 9.08954305,9 9.2,9 L12.8,9 Z M6,10 L4,10 L4,12 L6,12 L6,10 Z M12,10 L10,10 L10,12 L12,12 L12,10 Z M15.5,6 C15.7761424,6 16,6.22385763 16,6.5 L16,9.5 C16,9.77614237 15.7761424,10 15.5,10 C15.2238576,10 15,9.77614237 15,9.5 L15,6.5 C15,6.22385763 15.2238576,6 15.5,6 Z M0.5,6 C0.776142375,6 1,6.22385763 1,6.5 L1,9.5 C1,9.77614237 0.776142375,10 0.5,10 C0.223857625,10 0,9.77614237 0,9.5 L0,6.5 C0,6.22385763 0.223857625,6 0.5,6 Z M6.8,3 C6.91045695,3 7,3.08954305 7,3.2 L7,6.8 C7,6.91045695 6.91045695,7 6.8,7 L3.2,7 C3.08954305,7 3,6.91045695 3,6.8 L3,3.2 C3,3.08954305 3.08954305,3 3.2,3 L6.8,3 Z M12.8,3 C12.9104569,3 13,3.08954305 13,3.2 L13,6.8 C13,6.91045695 12.9104569,7 12.8,7 L9.2,7 C9.08954305,7 9,6.91045695 9,6.8 L9,3.2 C9,3.08954305 9.08954305,3 9.2,3 L12.8,3 Z M12,4 L10,4 L10,6 L12,6 L12,4 Z M2.5,5.70654635e-14 C2.77614237,5.70654635e-14 3,0.223857625 3,0.5 C3,0.776142375 2.77614237,1 2.5,1 L1.6,1 C1.26862915,1 1,1.26862915 1,1.6 L1,2.5 C1,2.77614237 0.776142375,3 0.5,3 C0.223857625,3 0,2.77614237 0,2.5 L0,1 C0,0.44771525 0.44771525,5.70654635e-14 1,5.70654635e-14 L2.5,5.70654635e-14 Z M15,0 C15.5522847,0 16,0.44771525 16,1 L16,2.5 C16,2.77614237 15.7761424,3 15.5,3 C15.2238576,3 15,2.77614237 15,2.5 L15,1.6 C15,1.26862915 14.7313708,1 14.4,1 L13.5,1 C13.2238576,1 13,0.776142375 13,0.5 C13,0.223857625 13.2238576,0 13.5,0 L15,0 Z M9.5,5.67323966e-14 C9.77614237,5.67323966e-14 10,0.223857625 10,0.5 C10,0.776142375 9.77614237,1 9.5,1 L6.5,1 C6.22385763,1 6,0.776142375 6,0.5 C6,0.223857625 6.22385763,5.67323966e-14 6.5,5.67323966e-14 L9.5,5.67323966e-14 Z"}}]},active:r,hidden:!a,label:n.get("Object.OrgChart.SingleSelect")}}),[r,a]),t.useEffect((function(){var t=function(t){"Shift"===t.key&&o(!0)},n=function(t){"Shift"===t.key&&o(!1)};return document.addEventListener("keydown",t),document.addEventListener("keyup",n),function(){document.removeEventListener("keydown",t),document.removeEventListener("keyup",n)}}),[]),u}(c);t.useEffect((function(){io(c)}),[c.language()]),t.useEffect((function(){E.constraints=u}),[u]),t.useEffect((function(){E.transform=x}),[x]),t.useEffect((function(){E.expandedState=v}),[v]);var L=function(t){t.useTransitions=!0,y(t)},O=s(t.usePromise((function(){if(!n)return Promise.resolve();var t=uo(i,n);return t&&t.expandedState&&y(t.expandedState),t&&t.transform&&w(t.transform),function(t){return Ir.apply(this,arguments)}({layout:n,model:e,translator:c}).then((function(t){return g(so({Theme:o,layout:n})),M.setState([]),t}))}),[n,e,c.language(),o.name()]),1)[0],S=function(){if(r&&O){var t=uo(i,n);no({element:r,dataTree:O,viewState:t,wrapperState:E,selectionObj:M,setInitialZoom:k,setTransform:w,setExpandedState:y,setContainerData:f,layout:n})}},A=function(){h&&v&&p&&function(t){var n=t.containerData,e=t.styling,r=t.setExpandedCallback,o=t.wrapperState,i=t.selectionObj,a=t.element,s=n.svg,u=n.divBox,c=n.allNodes,l=n.positioning,h=n.tooltip,f=c.data.navigationMode;u.selectAll("*").remove(),s.selectAll("*").remove();var d=to(o.expandedState,c,!1,f);Qr({positioning:l,divBox:u,nodes:d,styling:e,setExpandedCallback:r,wrapperState:o,selectionObj:i,navigationMode:f,element:a,tooltip:h}),Kr(s.selectAll(".sn-org-paths").data(d).enter(),l,o.expandedState.topId,f)}({containerData:h,styling:p,setExpandedCallback:L,wrapperState:E,selectionObj:M,useTransitions:v.useTransitions,element:r})};t.useEffect((function(){A()}),[h,M.state]),t.useEffect((function(){S()}),[r,O,u]),t.useEffect((function(){n.resizeOnExpand?S():A()}),[v]),t.useEffect((function(){if(h&&n&&n.snapshotData){var t=function(t,n,e){if(!n)return fr.translate(e.x,e.y).scale(e.zoom);var r=n.size,o=t.width/r.w>t.height/r.h?t.height/r.h:t.width/r.w,i=n.transform.x*o,a=n.transform.y*o,s=n.transform.zoom*o;return fr.translate(i,a).scale(s)}(a,n.snapshotData.viewState,x);Jr(t,h.svg,h.divBox,a.width,a.height)}}),[a,h]),ro(v,h,n,x,C)},ext:m}}}));
