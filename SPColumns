DECLARE @ColumnsCSV NVARCHAR(MAX)

-- Create a temporary table to store the column names
CREATE TABLE #ColumnNames
(
    ColumnName NVARCHAR(255)
)

-- Execute the stored procedure with the RequestId parameter
EXEC YourStoredProcedure @RequestId = 0

-- Retrieve the column names and store them in the temporary table
INSERT INTO #ColumnNames
SELECT COLUMN_NAME
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_NAME = 'YourTableName' -- Replace with the actual table name

-- Concatenate the column names into a CSV string
SELECT @ColumnsCSV = COALESCE(@ColumnsCSV + ',', '') + ColumnName
FROM #ColumnNames

-- Store the CSV string in a single column of another table
INSERT INTO YourResultTable (ColumnNameCSV)
VALUES (@ColumnsCSV)

-- Clean up the temporary table
DROP TABLE #ColumnNames

